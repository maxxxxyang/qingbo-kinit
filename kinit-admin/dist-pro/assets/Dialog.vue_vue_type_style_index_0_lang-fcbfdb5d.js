import{b as e,a as o,e as l,aC as s,aG as a,f as t,o as n,j as r,y as i,q as c,s as d,k as u,z as f,x as p,m,l as v,p as y,E as g,O as h,n as b,_ as C,dk as x,d as k,ba as w,aI as $,cb as A,r as F,c1 as I,h as B,w as R,ap as _,a9 as D,dl as S,dm as E,aY as L,aU as O,u as j,aE as M,a8 as z,ac as N,ar as T,an as P,C as q,cc as U,t as V,W as G,bi as H,cN as K,$ as W,N as Y,D as Z}from"./index-9da7d198.js";import{u as J,a as Q,E as X,b as ee}from"./el-overlay-037540a2.js";import{F as oe,e as le}from"./el-popper-2fae9050.js";import{c as se}from"./refs-4f0941bf.js";import{U as ae}from"./event-5568c9d8.js";import{u as te}from"./index-cde97138.js";import{u as ne}from"./use-form-item-8b7f5d34.js";const re=Symbol("dialogInjectionKey"),ie=e({center:Boolean,alignCenter:Boolean,closeIcon:{type:o},customClass:{type:String,default:""},draggable:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),ce=["aria-level"],de=["aria-label"],ue=["id"],fe=l({name:"ElDialogContent"});var pe=C(l({...fe,props:ie,emits:{close:()=>!0},setup(e){const o=e,{t:l}=s(),{Close:C}=x,{dialogRef:k,headerRef:w,bodyId:$,ns:A,style:F}=a(re),{focusTrapRef:I}=a(oe),B=t((()=>[A.b(),A.is("fullscreen",o.fullscreen),A.is("draggable",o.draggable),A.is("align-center",o.alignCenter),{[A.m("center")]:o.center},o.customClass])),R=se(I,k),_=t((()=>o.draggable));return J(k,w,_),(e,o)=>(n(),r("div",{ref:u(R),class:d(u(B)),style:b(u(F)),tabindex:"-1"},[i("header",{ref_key:"headerRef",ref:w,class:d(u(A).e("header"))},[c(e.$slots,"header",{},(()=>[i("span",{role:"heading","aria-level":e.ariaLevel,class:d(u(A).e("title"))},f(e.title),11,ce)])),e.showClose?(n(),r("button",{key:0,"aria-label":u(l)("el.dialog.close"),class:d(u(A).e("headerbtn")),type:"button",onClick:o[0]||(o[0]=o=>e.$emit("close"))},[p(u(g),{class:d(u(A).e("close"))},{default:m((()=>[(n(),v(y(e.closeIcon||u(C))))])),_:1},8,["class"])],10,de)):h("v-if",!0)],2),i("div",{id:u($),class:d(u(A).e("body"))},[c(e.$slots,"default")],10,ue),e.$slots.footer?(n(),r("footer",{key:0,class:d(u(A).e("footer"))},[c(e.$slots,"footer")],2)):h("v-if",!0)],6))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const me=e({...ie,appendToBody:Boolean,beforeClose:{type:k(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:"2"}}),ve={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[ae]:e=>w(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},ye=(e,o)=>{const l=$().emit,{nextZIndex:s}=A();let a="";const n=te(),r=te(),i=F(!1),c=F(!1),d=F(!1),u=F(e.zIndex||s());let f,p;const m=I("namespace",S),v=t((()=>{const o={},l=`--${m.value}-dialog`;return e.fullscreen||(e.top&&(o[`${l}-margin-top`]=e.top),e.width&&(o[`${l}-width`]=B(e.width))),o})),y=t((()=>e.alignCenter?{display:"flex"}:{}));function g(){null==p||p(),null==f||f(),e.openDelay&&e.openDelay>0?({stop:f}=E((()=>C()),e.openDelay)):C()}function h(){null==f||f(),null==p||p(),e.closeDelay&&e.closeDelay>0?({stop:p}=E((()=>x()),e.closeDelay)):x()}function b(){e.beforeClose?e.beforeClose((function(e){e||(c.value=!0,i.value=!1)})):h()}function C(){L&&(i.value=!0)}function x(){i.value=!1}return e.lockScroll&&Q(i),R((()=>e.modelValue),(a=>{a?(c.value=!1,g(),d.value=!0,u.value=e.zIndex?u.value++:s(),_((()=>{l("open"),o.value&&(o.value.scrollTop=0)}))):i.value&&h()})),R((()=>e.fullscreen),(e=>{o.value&&(e?(a=o.value.style.transform,o.value.style.transform=""):o.value.style.transform=a)})),D((()=>{e.modelValue&&(i.value=!0,d.value=!0,g())})),{afterEnter:function(){l("opened")},afterLeave:function(){l("closed"),l(ae,!1),e.destroyOnClose&&(d.value=!1)},beforeLeave:function(){l("close")},handleClose:b,onModalClick:function(){e.closeOnClickModal&&b()},close:h,doClose:x,onOpenAutoFocus:function(){l("openAutoFocus")},onCloseAutoFocus:function(){l("closeAutoFocus")},onCloseRequested:function(){e.closeOnPressEscape&&b()},onFocusoutPrevented:function(e){var o;"pointer"===(null==(o=e.detail)?void 0:o.focusReason)&&e.preventDefault()},titleId:n,bodyId:r,closed:c,style:v,overlayDialogStyle:y,rendered:d,visible:i,zIndex:u}},ge=["aria-label","aria-labelledby","aria-describedby"],he=l({name:"ElDialog",inheritAttrs:!1});const be=V(C(l({...he,props:me,emits:ve,setup(e,{expose:o}){const l=e,s=O();ne({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},t((()=>!!s.title))),ne({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},t((()=>!!l.customClass)));const a=j("dialog"),r=F(),f=F(),y=F(),{visible:g,titleId:C,bodyId:x,style:k,overlayDialogStyle:w,rendered:$,zIndex:A,afterEnter:I,afterLeave:B,beforeLeave:R,handleClose:_,onModalClick:D,onOpenAutoFocus:S,onCloseAutoFocus:E,onCloseRequested:L,onFocusoutPrevented:V}=ye(l,r);M(re,{dialogRef:r,headerRef:f,bodyId:x,ns:a,rendered:$,style:k});const G=ee(D),H=t((()=>l.draggable&&!l.fullscreen));return o({visible:g,dialogContentRef:y}),(e,o)=>(n(),v(U,{to:"body",disabled:!e.appendToBody},[p(q,{name:"dialog-fade",onAfterEnter:u(I),onAfterLeave:u(B),onBeforeLeave:u(R),persisted:""},{default:m((()=>[z(p(u(X),{"custom-mask-event":"",mask:e.modal,"overlay-class":e.modalClass,"z-index":u(A)},{default:m((()=>[i("div",{role:"dialog","aria-modal":"true","aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:u(C),"aria-describedby":u(x),class:d(`${u(a).namespace.value}-overlay-dialog`),style:b(u(w)),onClick:o[0]||(o[0]=(...e)=>u(G).onClick&&u(G).onClick(...e)),onMousedown:o[1]||(o[1]=(...e)=>u(G).onMousedown&&u(G).onMousedown(...e)),onMouseup:o[2]||(o[2]=(...e)=>u(G).onMouseup&&u(G).onMouseup(...e))},[p(u(le),{loop:"",trapped:u(g),"focus-start-el":"container",onFocusAfterTrapped:u(S),onFocusAfterReleased:u(E),onFocusoutPrevented:u(V),onReleaseRequested:u(L)},{default:m((()=>[u($)?(n(),v(pe,N({key:0,ref_key:"dialogContentRef",ref:y},e.$attrs,{"custom-class":e.customClass,center:e.center,"align-center":e.alignCenter,"close-icon":e.closeIcon,draggable:u(H),fullscreen:e.fullscreen,"show-close":e.showClose,title:e.title,"aria-level":e.headerAriaLevel,onClose:u(_)}),T({header:m((()=>[e.$slots.title?c(e.$slots,"title",{key:1}):c(e.$slots,"header",{key:0,close:u(_),titleId:u(C),titleClass:u(a).e("title")})])),default:m((()=>[c(e.$slots,"default")])),_:2},[e.$slots.footer?{name:"footer",fn:m((()=>[c(e.$slots,"footer")]))}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","aria-level","onClose"])):h("v-if",!0)])),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,ge)])),_:3},8,["mask","overlay-class","z-index"]),[[P,u(g)]])])),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]])),Ce={class:"flex justify-between items-center h-54px pl-15px pr-15px relative"},xe={class:"h-54px flex justify-between items-center absolute top-[50%] right-15px translate-y-[-50%]"},ke=l({__name:"Dialog",props:{modelValue:G.bool.def(!1),title:G.string.def("Dialog"),fullscreen:G.bool.def(!0),top:G.string.def("8vh"),height:G.oneOfType([String,Number]).def("500px"),width:G.oneOfType([String,Number]).def("700px")},setup(e){const o=e,l=O(),s=t((()=>{const e=["fullscreen","title","height","top","width"],l={...H(),...o};for(const o in l)-1!==e.indexOf(o)&&delete l[o];return l})),a=F(!1),r=()=>{a.value=!u(a)},d=F(K(o.height)?`${o.height}px`:o.height);R((()=>a.value),(async e=>{if(await _(),e){const e=document.documentElement.offsetHeight;d.value=e-55-60-(l.footer?63:0)+"px"}else d.value=K(o.height)?`${o.height}px`:o.height}),{immediate:!0});const y=t((()=>({height:u(d)})));return(o,t)=>{const d=W("Icon");return n(),v(u(be),N(s.value,{fullscreen:a.value,"destroy-on-close":"","lock-scroll":"",draggable:"",top:e.top,width:e.width,"close-on-click-modal":!1,"show-close":!1}),T({header:m((({close:l})=>[i("div",Ce,[c(o.$slots,"title",{},(()=>[Y(f(e.title),1)])),i("div",xe,[e.fullscreen?(n(),v(d,{key:0,class:"cursor-pointer is-hover !h-54px mr-10px",icon:a.value?"radix-icons:exit-full-screen":"radix-icons:enter-full-screen",color:"var(--el-color-info)","hover-color":"var(--el-color-primary)",onClick:r},null,8,["icon"])):h("",!0),p(d,{class:"cursor-pointer is-hover !h-54px",icon:"ep:close","hover-color":"var(--el-color-primary)",color:"var(--el-color-info)",onClick:l},null,8,["onClick"])])])])),default:m((()=>[p(u(Z),{style:b(y.value)},{default:m((()=>[c(o.$slots,"default")])),_:3},8,["style"])])),_:2},[u(l).footer?{name:"footer",fn:m((()=>[c(o.$slots,"footer")])),key:"0"}:void 0]),1040,["fullscreen","top","width"])}}});export{ke as _,ve as a,me as d,ye as u};
