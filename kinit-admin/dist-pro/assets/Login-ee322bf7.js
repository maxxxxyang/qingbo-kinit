import{Y as e,e as l,G as t,r as o,M as s,x as a,a3 as i,N as r,o as p,j as n,m as d,k as m,ao as u,z as c,l as _,O as f}from"./index-9da7d198.js";import{u as j,_ as v}from"./Table.vue_vue_type_script_lang-5256bd69.js";import{E as h}from"./el-button-8f21380c.js";import{E as b}from"./el-switch-7720805d.js";import{_ as g}from"./Search.vue_vue_type_script_setup_true_lang-a57e37eb.js";import{_ as w}from"./ContentWrap.vue_vue_type_script_setup_true_lang-9c7e578a.js";import{_ as y}from"./Detail.vue_vue_type_script_setup_true_lang-ec9bfbe7.js";import{_ as x}from"./Dialog.vue_vue_type_style_index_0_lang-fcbfdb5d.js";import{s as S}from"./dict-ab5a6743.js";import{u as k}from"./dict-b6f9162a.js";import"./el-message-box-24354127.js";import"./el-input-26eda071.js";import"./event-5568c9d8.js";import"./use-form-item-8b7f5d34.js";import"./use-form-common-props-9d083c67.js";import"./index-cde97138.js";import"./isNil-1f22f7b0.js";import"./el-overlay-037540a2.js";import"./el-checkbox-group-b617b779.js";import"./vnode-ae242abb.js";import"./useForm-ecbcdb43.js";import"./el-col-d9273186.js";import"./el-tooltip-4ed993c7.js";import"./el-popper-2fae9050.js";import"./el-tag-aef2ce12.js";import"./index-13d6a136.js";import"./el-date-picker-f32b0b71.js";import"./debounce-778af7ed.js";import"./el-divider-fc00d058.js";import"./el-progress-69812d34.js";import"./style.css_vue_type_style_index_0_src_true_lang-0e7f3b44.js";import"./index-14d9f390.js";import"./strings-e2e316bd.js";import"./index-4dbb39b8.js";import"./el-table-column-102f47a6.js";import"./el-image-viewer-83790b35.js";import"./el-dropdown-item-c082162c.js";import"./refs-4f0941bf.js";/* empty css                   */import"./_Uint8Array-bbcc3a61.js";import"./useIcon-6417bbff.js";import"./el-card-5fa288fa.js";import"./Descriptions-fb3623c2.js";import"./el-descriptions-item-be87a779.js";/* empty css              */import"./dict-b26f862b.js";const P=l({name:"SystemRecordLogin",__name:"Login",setup(l){const{t:P}=t(),z=o([]),R=o([]);(async()=>{const e=k(),l=await e.getDictObj(["sys_vadmin_platform","sys_vadmin_login_method"]);z.value=l.sys_vadmin_platform,R.value=l.sys_vadmin_login_method})();const{tableRegister:D,tableState:L,tableMethods:U}=j({fetchDataApi:async()=>{const{pageSize:l,currentPage:t}=L,o=await(s={page:m(t),limit:m(l),...m(M)},e.get({url:"/vadmin/record/logins",params:s}));var s;return{list:o.data||[],total:o.count||0}}}),{dataList:A,loading:I,total:C,pageSize:N,currentPage:O}=L,{getList:V}=U,q=s([{field:"id",label:"编号",show:!0,disabled:!0,width:"120px"},{field:"telephone",label:"手机号",width:"150px",show:!0,disabled:!0},{field:"status",label:"登录状态",show:!0,slots:{default:e=>a(i,null,[a(b,{value:e.row.status,size:"small",disabled:!0},null)])}},{field:"platform",label:"登录平台",width:"150px",show:!0,slots:{default:e=>a(i,null,[a("div",null,[S(z.value,e.row.platform)])])}},{field:"login_method",label:"认证方式",width:"150px",show:!0,slots:{default:e=>a(i,null,[a("div",null,[S(R.value,e.row.login_method)])])}},{field:"ip",label:"登录地址",show:!0,disabled:!0,width:"150px"},{field:"address",label:"登录地点",show:!0},{field:"postal_code",label:"邮政编码",show:!1},{field:"area_code",label:"地区区号",show:!1},{field:"browser",label:"浏览器",show:!0},{field:"system",label:"操作系统",show:!0},{field:"response",label:"响应信息",show:!1,disabled:!0},{field:"request",label:"请求信息",show:!1,disabled:!0},{field:"create_datetime",label:"创建时间",show:!0,sortable:!0},{field:"action",label:"操作",show:!0,width:100,slots:{default:e=>{const l=e.row;return a(i,null,[a(h,{type:"primary",link:!0,onClick:()=>Q(l,"detail")},{default:()=>[r("详情")]})])}}}]),E=s([{field:"telephone",label:"手机号",component:"Input",componentProps:{clearable:!1,style:{width:"214px"}}},{field:"platform",label:"登录平台",component:"Select",componentProps:{style:{width:"214px"},options:z.value}},{field:"ip",label:"登录地址",component:"Input",componentProps:{clearable:!1,style:{width:"214px"}}},{field:"address",label:"登录地点",component:"Input",componentProps:{clearable:!1,style:{width:"214px"}}},{field:"status",label:"登录状态",component:"Select",componentProps:{style:{width:"214px"},options:[{label:"登录成功",value:!0},{label:"登录失败",value:!1}]}}]),M=o({}),B=e=>{O.value=1,M.value=e,V()},F=o(!1),G=o(""),H=o(),K=o(""),Q=(e,l)=>{G.value=P("exampleDemo.detail"),K.value=l,H.value=e,F.value=!0};return(e,l)=>(p(),n(i,null,[a(m(w),null,{default:d((()=>[a(m(g),{schema:E,onReset:B,onSearch:B},null,8,["schema"]),a(m(v),{"current-page":m(O),"onUpdate:currentPage":l[0]||(l[0]=e=>u(O)?O.value=e:null),"page-size":m(N),"onUpdate:pageSize":l[1]||(l[1]=e=>u(N)?N.value=e:null),showAction:"",columns:q,"node-key":"id",data:m(A),loading:m(I),pagination:{total:m(C)},onRegister:m(D),onRefresh:m(V)},null,8,["current-page","page-size","columns","data","loading","pagination","onRegister","onRefresh"])])),_:1}),a(m(x),{modelValue:F.value,"onUpdate:modelValue":l[3]||(l[3]=e=>F.value=e),title:G.value,width:"800px"},{footer:d((()=>[a(m(h),{onClick:l[2]||(l[2]=e=>F.value=!1)},{default:d((()=>[r(c(m(P)("dialogDemo.close")),1)])),_:1})])),default:d((()=>["detail"===K.value?(p(),_(y,{key:0,"current-row":H.value},null,8,["current-row"])):f("",!0)])),_:1},8,["modelValue","title"])],64))}});export{P as default};
