import{u as s,F as e}from"./useForm-ecbcdb43.js";import{u as a}from"./useValidator-e352e7a8.js";import{e as r,v as o,M as t,r as l,o as i,l as n,k as d,x as p,N as m,a3 as c,P as u,Q as w}from"./index-9da7d198.js";import{E as f}from"./el-button-8f21380c.js";const g=r({__name:"PasswordWrite",setup(r){const{required:g}=a(),P=o(),b=t([{field:"title",colProps:{span:24}},{field:"password",label:"新密码",component:"InputPassword",colProps:{span:24},componentProps:{style:{width:"50%"},placeholder:"请输入新密码"}},{field:"password_two",label:"确认密码",component:"InputPassword",colProps:{span:24},componentProps:{style:{width:"50%"},placeholder:"请再次输入新密码"}},{field:"save",colProps:{span:24},formItemProps:{slots:{default:()=>p(c,null,[p("div",{class:"w-[50%]"},[p(f,{loading:_.value,type:"primary",class:"w-[100%]",onClick:j},{default:()=>[m("保存")]})])])}}}]),v={password:[g(),{min:8,max:16,message:"长度需为8-16个字符,请重新输入。",trigger:"blur"}],password_two:[g(),{min:8,max:16,message:"长度需为8-16个字符,请重新输入。",trigger:"blur"}]},{formRegister:h,formMethods:k}=s(),{setValues:y,getFormData:x,getElFormExpose:F}=k;y(P.getUser);const _=l(!1),j=async()=>{if(1===P.getUser.id)return u.warning("编辑账号为演示账号，无权限操作！");const s=await F();if(await(null==s?void 0:s.validate())){_.value=!0;const e=await x();try{await w(e)&&(null==s||s.resetFields(),u.success("保存成功"))}finally{_.value=!1}}};return(s,a)=>(i(),n(d(e),{onRegister:d(h),schema:b,rules:v,"hide-required-asterisk":"",class:"dark:border-1 dark:border-[var(--el-border-color)] dark:border-solid"},null,8,["onRegister","schema"]))}});export{g as _};
