import{a}from"./avatar-d437f563.js";import{U as e,f as t,V as s,k as l,e as n,W as r,X as d,Y as o,Z as i,r as c,M as u,$ as m,o as p,j as x,y as f,x as v,m as y,z as g,a0 as h,a1 as w,a2 as k,N as $,a3 as _,a4 as j,G as b,l as E,a5 as C}from"./index-9da7d198.js";import{a as O,E as N}from"./el-col-d9273186.js";import{E as z}from"./el-skeleton-item-c29f45f2.js";import{E as D}from"./el-card-5fa288fa.js";import{E as M}from"./el-divider-fc00d058.js";import{E as W}from"./el-link-d575b38b.js";const I={"zh-CN":{justNow:"刚刚",invalid:"无效时间",past:a=>a.match(/\d/)?`${a}前`:a,future:a=>a.match(/\d/)?`${a}后`:a,month:(a,e)=>1===a?e?"上个月":"下个月":`${a} 个月`,year:(a,e)=>1===a?e?"去年":"明年":`${a} 年`,day:(a,e)=>1===a?e?"昨天":"明天":`${a} 天`,week:(a,e)=>1===a?e?"上周":"下周":`${a} 周`,hour:a=>`${a} 小时`,minute:a=>`${a} 分钟`,second:a=>`${a} 秒`},en:{justNow:"刚刚",invalid:"Invalid Date",past:a=>a.match(/\d/)?`${a} ago`:a,future:a=>a.match(/\d/)?`in ${a}`:a,month:(a,e)=>1===a?e?"last month":"next month":`${a} month${a>1?"s":""}`,year:(a,e)=>1===a?e?"last year":"next year":`${a} year${a>1?"s":""}`,day:(a,e)=>1===a?e?"yesterday":"tomorrow":`${a} day${a>1?"s":""}`,week:(a,e)=>1===a?e?"last week":"next week":`${a} week${a>1?"s":""}`,hour:a=>`${a} hour${a>1?"s":""}`,minute:a=>`${a} minute${a>1?"s":""}`,second:a=>`${a} second${a>1?"s":""}`}},U=a=>{const n=e(),r=t((()=>n.getCurrentLocale));return s(a,{messages:I[l(r).lang]})},A=n({name:"Highlight",props:{tag:r.string.def("span"),keys:{type:Array,default:()=>[]},color:r.string.def("var(--el-color-primary)")},emits:["click"],setup(a,{emit:e,slots:s}){const n=t((()=>a.keys.map((t=>d("span",{onClick:()=>{e("click",t)},style:{color:a.color,cursor:"pointer"}},t))))),r=()=>{if(!(null==s?void 0:s.default))return null;const e=null==s?void 0:s.default()[0].children;if(!e)return null==s?void 0:s.default()[0];const t=(r=e,a.keys.forEach(((a,e)=>{const t=new RegExp(a,"g");r=r.replace(t,`{{${e}}}`)})),r.split(/{{|}}/));var r;const o=/^[0-9]*$/,i=t.map((a=>o.test(a)&&l(n)[a]||a));return d(a.tag,i)};return()=>r()}}),G={class:"bg-[var(--app-content-bg-color)] flex-grow"},H={class:"flex items-center"},L=["src"],P={class:"text-20px"},R={class:"mt-10px text-14px text-gray-500"},V={class:"flex h-70px items-center justify-end <sm:mt-20px"},X={class:"px-8px text-right"},Y=f("div",{class:"text-14px text-gray-400 mb-20px"},"最近登录时间",-1),Z={class:"text-20px"},q={class:"mx-20px mt-20px"},B={class:"flex justify-between"},F=["onClick"],J={class:"flex items-center"},K={class:"text-16px"},Q={class:"mt-15px text-14px text-gray-400"},S={class:"mt-20px text-12px text-gray-400 flex justify-between"},T={class:"flex justify-between"},aa={class:"flex items-center"},ea=f("img",{src:a,alt:"",class:"w-35px h-35px rounded-[50%] mr-20px"},null,-1),ta={class:"text-14px"},sa={class:"mt-15px text-12px text-gray-400"},la={class:"flex items-center"},na=n({name:"DashboardWorkplace",__name:"Workplace",setup(e){const s=i(),n=c(!0);let r=u([]);const d=async()=>{const a=await o.get({url:"/vadmin/workplace/project"}).catch((()=>{}));a&&(r=Object.assign(r,a.data))};let I=u([]);(async()=>{const a=await o.get({url:"/vadmin/workplace/shortcuts"}).catch((()=>{}));a&&(I=Object.assign(I,a.data))})();let na=u([]);const ra=async()=>{const a=await o.get({url:"/vadmin/workplace/dynamic"}).catch((()=>{}));a&&(na=Object.assign(na,a.data))};let da=u([]);const oa=async()=>{const a=await o.get({url:"/vadmin/workplace/team"}).catch((()=>{}));a&&(da=Object.assign(da,a.data))};(async()=>{await Promise.all([d(),ra(),oa()]),n.value=!1})();const{t:ia}=b(),ca=t((()=>s.getUser));return(e,t)=>{const s=m("Icon");return p(),x("div",G,[f("div",null,[v(l(D),{shadow:"never"},{default:y((()=>[v(l(z),{loading:n.value,animated:""},{default:y((()=>[v(l(O),{gutter:20,justify:"space-between"},{default:y((()=>[v(l(N),{xl:12,lg:12,md:12,sm:24,xs:24},{default:y((()=>[f("div",H,[f("img",{src:ca.value.avatar?ca.value.avatar:l(a),alt:"",class:"w-70px h-70px rounded-[50%] mr-20px"},null,8,L),f("div",null,[f("div",P,g(l(h)())+"，"+g(ca.value.name)+"，"+g(l(ia)("workplace.happyDay")),1),f("div",R,g(l(w)())+"，"+g(l(k)()),1)])])])),_:1}),v(l(N),{xl:12,lg:12,md:12,sm:24,xs:24},{default:y((()=>{var a;return[f("div",V,[f("div",X,[Y,f("span",Z,g(null==(a=ca.value.last_login)?void 0:a.split(" ")[0]),1)])])]})),_:1})])),_:1})])),_:1},8,["loading"])])),_:1})]),f("div",q,[v(l(O),{gutter:20,justify:"space-between"},{default:y((()=>[v(l(N),{xl:16,lg:16,md:24,sm:24,xs:24,class:"mb-20px"},{default:y((()=>[v(l(D),{shadow:"never"},{header:y((()=>[f("div",B,[f("span",null,g(l(ia)("workplace.project")),1),v(l(W),{type:"primary",underline:!1},{default:y((()=>[$(g(l(ia)("workplace.more")),1)])),_:1})])])),default:y((()=>[v(l(z),{loading:n.value,animated:""},{default:y((()=>[v(l(O),null,{default:y((()=>[(p(!0),x(_,null,j(l(r),((a,e)=>(p(),E(l(N),{key:`card-${e}`,xl:8,lg:8,md:12,sm:24,xs:24},{default:y((()=>[v(l(D),{shadow:"hover"},{default:y((()=>[f("div",{class:"cursor-pointer",onClick:e=>{return t=a.link,void window.open(t);var t}},[f("div",J,[v(s,{icon:a.icon,size:25,class:"mr-10px"},null,8,["icon"]),f("span",K,g(a.name),1)]),f("div",Q,g(l(ia)(a.message)),1),f("div",S,[f("span",null,g(a.personal),1),f("span",null,g(l(C)(a.time,"yyyy-MM-dd")),1)])],8,F)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1},8,["loading"])])),_:1}),v(l(D),{shadow:"never",class:"mt-20px"},{header:y((()=>[f("div",T,[f("span",null,g(l(ia)("workplace.dynamic")),1),v(l(W),{type:"primary",underline:!1},{default:y((()=>[$(g(l(ia)("workplace.more")),1)])),_:1})])])),default:y((()=>[v(l(z),{loading:n.value,animated:""},{default:y((()=>[(p(!0),x(_,null,j(l(na),((a,e)=>(p(),x("div",{key:`dynamics-${e}`},[f("div",aa,[ea,f("div",null,[f("div",ta,[v(l(A),{keys:a.keys.map((a=>l(ia)(a)))},{default:y((()=>[$(g(l(ia)("workplace.pushCode")),1)])),_:2},1032,["keys"])]),f("div",sa,g(l(U)(a.time)),1)])]),v(l(M))])))),128))])),_:1},8,["loading"])])),_:1})])),_:1}),v(l(N),{xl:8,lg:8,md:24,sm:24,xs:24,class:"mb-20px"},{default:y((()=>[v(l(D),{shadow:"never"},{header:y((()=>[f("span",null,g(l(ia)("workplace.shortcutOperation")),1)])),default:y((()=>[v(l(z),{loading:n.value,animated:""},{default:y((()=>[(p(!0),x(_,null,j(l(I),((a,e)=>(p(),E(l(N),{key:`card-${e}`,xl:12,lg:12,md:12,sm:12,xs:12,class:"mb-10px"},{default:y((()=>[v(l(W),{type:"primary",href:a.link,target:"_blank",underline:!1},{default:y((()=>[$(g(a.name),1)])),_:2},1032,["href"])])),_:2},1024)))),128))])),_:1},8,["loading"])])),_:1}),v(l(D),{shadow:"never",class:"mt-20px"},{header:y((()=>[f("span",null,g(l(ia)("workplace.team")),1)])),default:y((()=>[v(l(z),{loading:n.value,animated:""},{default:y((()=>[v(l(O),null,{default:y((()=>[(p(!0),x(_,null,j(l(da),(a=>(p(),E(l(N),{key:`team-${a.name}`,span:12,class:"mb-20px"},{default:y((()=>[f("div",la,[v(s,{icon:a.icon,class:"mr-10px"},null,8,["icon"]),v(l(W),{type:"default",underline:!1},{default:y((()=>[$(g(a.name),1)])),_:2},1024)])])),_:2},1024)))),128))])),_:1})])),_:1},8,["loading"])])),_:1})])),_:1})])),_:1})])])}}});export{na as default};
